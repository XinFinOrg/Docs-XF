<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Tmn - XinFin Network</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet">
  <link href="../../css/style.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Tmn";
    var mkdocs_page_input_path = "masternode\\tmn.md";
    var mkdocs_page_url = "/masternode/tmn/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> XinFin Network</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">General</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../..">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/use-cases/">Use cases</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/networks/">Networks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/faq/">FAQ</a>
                </li>
                <li class="">
                    
    <a class="" href="../../general/about/">About</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Get started</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Overview</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/productoverview/">Products overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/how_to_read/">How to read</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Beginners Tutorials</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/wallet/">Connect your wallet</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/voting/">Voting</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/run-node/">Run a full node in testnet</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../get-started/apply-node/">Apply your node</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">XinFin Master</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../xinfinmaster/features/">Features</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">XinFin Explorer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../xinfinexp/features/">Features</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">XinFin Wallet</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../XinFinWallet/features/">Features</a>
                </li>
                <li class="">
                    
    <a class="" href="../../XinFinWallet/voting/">How to vote</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Masternode</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../requirements/">Requirements</a>
                </li>
                <li class="">
                    
    <a class="" href="../masternode-setup-guide/">Detailed guide</a>
                </li>
                <li class=" current">
                    
    <span class="caption-text">Running a node with</span>
    <ul class="subnav">
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Tmn</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#prerequisites">Prerequisites</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#installation-of-python">Installation of Python</a></li>
        
            <li><a class="toctree-l5" href="#installation-of-docker-ce">Installation of Docker CE</a></li>
        
        </ul>
    

    <li class="toctree-l4"><a href="#tmn">tmn</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#installation">Installation</a></li>
        
            <li><a class="toctree-l5" href="#update">Update</a></li>
        
            <li><a class="toctree-l5" href="#first-start">First start</a></li>
        
        </ul>
    

    <li class="toctree-l4"><a href="#usage">Usage</a></li>
    

    <li class="toctree-l4"><a href="#troubleshooting">Troubleshooting</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#tmn-command-not-found">tmn: command not found</a></li>
        
            <li><a class="toctree-l5" href="#error-could-not-access-the-docker-daemon">error: could not access the docker daemon</a></li>
        
            <li><a class="toctree-l5" href="#pip3-install-fails-due-to-not-being-able-to-build-some-package">pip3 install fails due to not being able to build some package</a></li>
        
            <li><a class="toctree-l5" href="#pip3-install-fails-due-to-no-module-named-setuptools">pip3 install fails due to "No Module named Setuptools"</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../docker/">Docker</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../tomonative/">Binary</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../applying/">Applying for Masternode Candidacy</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Whitepapers and research</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../wp-and-research/technical-whitepaper/">Technical whitepaper</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wp-and-research/sharding-paper/">Sharding design paper</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wp-and-research/economics-paper/">Economics paper</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">XinFin Network</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Running a node with &raquo;</li>
        
      
        
          <li>Masternode &raquo;</li>
        
      
    
    <li>Tmn</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/XinFinOrg/Docs-XF/edit/master/docs/masternode/tmn.md"> Edit on XinFinOrg/Docs-XF</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>We made a simple command line interface called <a href="https://github.com/XinFin Network/masternode">tmn</a> to easily and quickly start a XinFin Network masternode.
It takes care of starting the necessary docker containers with the proper settings for you.
It will really suit you if you don't already have a big infrastructure running.
Spin up a machine in your favorite cloud and get your masternode running in a few minutes!</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.python-guide.org/starting/install3/linux/">Python</a> &gt;= 3.6</li>
<li><a href="https://docs.docker.com/install/">Docker CE</a></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We recommand to run your masternode on Ubuntu 18.04 LTS.
This version have python 3.6 and has been reported as working out of the box.</p>
</div>
<h3 id="installation-of-python">Installation of Python<a class="headerlink" href="#installation-of-python" title="Permanent link">&para;</a></h3>
<p>To install Python under debian based distribution, run the following commands.</p>
<div class="codehilite"><pre><span></span>apt update

apt install python3-pip
</pre></div>


<p>To check if you have installed the right Python version (must be greater than 3.5).</p>
<div class="codehilite"><pre><span></span>python3 --version
</pre></div>


<p><img alt="tmn python" src="/assets/tmn_python.png" /></p>
<h3 id="installation-of-docker-ce">Installation of Docker CE<a class="headerlink" href="#installation-of-docker-ce" title="Permanent link">&para;</a></h3>
<p>To install Docker, first update the apt package index.</p>
<div class="codehilite"><pre><span></span>sudo apt update
</pre></div>


<p>Then Install packages to allow apt to use a repository over HTTPS.</p>
<div class="codehilite"><pre><span></span>sudo apt install apt-transport-https ca-certificates curl software-properties-common
</pre></div>


<p>Add Dockerâ€™s official GPG key.</p>
<div class="codehilite"><pre><span></span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</pre></div>


<p>Verify that you now have the key with the fingerprint <code>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code>, by searching for the last 8 characters of the fingerprint.</p>
<div class="codehilite"><pre><span></span>apt-key fingerprint 0EBFCD88
</pre></div>


<p><img alt="tmn docker key" src="/assets/tmn_key.png" /></p>
<p>Set up the stable Docker repository.</p>
<div class="codehilite"><pre><span></span>sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;
</pre></div>


<p>Update the apt package index. Then install the latest version of Docker CE.</p>
<div class="codehilite"><pre><span></span>sudo apt update

sudo apt install docker-ce
</pre></div>


<p>Once installed, add your current user to the Docker group.</p>
<div class="codehilite"><pre><span></span>usermod -aG docker $your_user_name
</pre></div>


<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You need to relog into your account for this to take effect.</p>
</div>
<p>Verify that Docker CE is installed correctly by running the hello-world image:</p>
<div class="codehilite"><pre><span></span>docker run hello-world
</pre></div>


<p>This command downloads a test image and runs it in a container.
When the container runs, it prints an informational message and exits.</p>
<h2 id="tmn">tmn<a class="headerlink" href="#tmn" title="Permanent link">&para;</a></h2>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h3>
<p>Simply install it from pip.</p>
<div class="codehilite"><pre><span></span>pip3 install --user tmn
</pre></div>


<h3 id="update">Update<a class="headerlink" href="#update" title="Permanent link">&para;</a></h3>
<p>Update it from pip.</p>
<div class="codehilite"><pre><span></span>pip3 install -U tmn
</pre></div>


<h3 id="first-start">First start<a class="headerlink" href="#first-start" title="Permanent link">&para;</a></h3>
<p>When you first start your full node with tmn, you need to give some information.</p>
<p><code>--name</code>: The name of your full node.
It should be formatted as a slug string.
Slug format authorize all letters and numbers, dashes ("-") and underscores ("_").
You can name it to reflect your identity, company name, etc.</p>
<p><code>--net</code>: The network your full node will connect to.
You can choose here to connect it to the XinFin Network Testnet or Mainnet (once launched).</p>
<p><code>--pkey</code>: The private key of the account that your full node will use.
A XinFin Network full node uses an account to be uniquely identified and to receive transaction fee.</p>
<div class="admonition note">
<p class="admonition-title">Important note:</p>
<p>We advise for security measures to use a fresh new account for your masternode.
This is not the account who will receive the rewards.
The rewards are sent to the account who will make the 50k TOMO initial deposit.</p>
</div>
<p><code>--api</code>: Expose RPC and websocket on ports <code>8545</code> and <code>8546</code>.</p>
<div class="admonition note">
<p class="admonition-title">Important note:</p>
<p>Those ports should not be accessible directly from the internet.
Please setup firewalling accordingly if you need to access them localy.
Use a reverse proxy if you want to expose them to the outside.</p>
</div>
<p>It could look like this:</p>
<div class="codehilite"><pre><span></span>tmn start --name [YOUR_NODE_NAME] --net testnet --pkey [YOUR_COINBASE_PRIVATE_KEY] --api
</pre></div>


<p>Once started, you should see your node on the <a href="https://stats.testnet.xinfin.org">stats page</a>!</p>
<p>Note: it can take up to one hour to properly sync the entire blockchain.</p>
<p><img alt="tmn stats" src="/assets/tmn_stats.png" /></p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>You can now interact with it via the other commands:</p>
<p><code>stop</code>: Stop your full node.</p>
<p><code>start</code>: Start your full node if it is stopped.</p>
<p><code>status</code>: The current status of your full node.</p>
<p><code>inspect</code>: Display the details related to your full node.
Useful for applying your full node as a masternode.</p>
<p><code>remove</code>: Completely remove your masternode, unique identity and data.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="tmn-command-not-found">tmn: command not found<a class="headerlink" href="#tmn-command-not-found" title="Permanent link">&para;</a></h3>
<p>It might happen that your PATH is not set by default to include the default user binary directory.
You can add it by adding it to your shell $PATH:</p>
<p>On GNU/Linux:</p>
<div class="codehilite"><pre><span></span>echo &#39;export PATH=$PATH:$HOME/.local/bin&#39; &gt;&gt; $HOME/.bashrc
</pre></div>


<p>On MacOS:
Replace <code>[VERSION]</code> by your version of python (3.5, 3.6, 3.7)</p>
<div class="codehilite"><pre><span></span>echo &#39;export PATH=$PATH:$HOME/Library/Python/[VERSION]/bin&#39; &gt;&gt; $HOME/.bashrc
</pre></div>


<p>Then reload your environment:</p>
<div class="codehilite"><pre><span></span>source ~/.bashrc
</pre></div>


<h3 id="error-could-not-access-the-docker-daemon">error: could not access the docker daemon<a class="headerlink" href="#error-could-not-access-the-docker-daemon" title="Permanent link">&para;</a></h3>
<p>If you have installed Docker, you probably forgot to add your user to the docker group.
Please run this, close your session and open it again.</p>
<div class="codehilite"><pre><span></span>usermod -aG docker $your_user_name
</pre></div>


<h3 id="pip3-install-fails-due-to-not-being-able-to-build-some-package">pip3 install fails due to not being able to build some package<a class="headerlink" href="#pip3-install-fails-due-to-not-being-able-to-build-some-package" title="Permanent link">&para;</a></h3>
<p>Your OS might not come with build tools preinstalled.</p>
<p>For ubuntu, you can solve that by running:</p>
<div class="codehilite"><pre><span></span>sudo apt install build-essential python3-dev python3-wheel
</pre></div>


<h3 id="pip3-install-fails-due-to-no-module-named-setuptools">pip3 install fails due to "No Module named Setuptools"<a class="headerlink" href="#pip3-install-fails-due-to-no-module-named-setuptools" title="Permanent link">&para;</a></h3>
<p>Your OS might not come with setuptools preinstalled.</p>
<p>For ubuntu, you can solve that by running:</p>
<div class="codehilite"><pre><span></span>sudo apt install python3-setuptools
</pre></div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../docker/" class="btn btn-neutral float-right" title="Docker">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../masternode-setup-guide/" class="btn btn-neutral" title="Detailed guide"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>If you wish to improve this site, please <a href="https://github.com/XinFin Network/docs/issues/new"><i class="fa fa-github"></i> open an issue</a> or <a href="https://github.com/XinFin Network/docs/compare"><i class="fa fa-github"></i> send a pull request</a>.<br>TomoDocs v0.1.0. XinFin Network Project 2018.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../masternode-setup-guide/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../docker/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
